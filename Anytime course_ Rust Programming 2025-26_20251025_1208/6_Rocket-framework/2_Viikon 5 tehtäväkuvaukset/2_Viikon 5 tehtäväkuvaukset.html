<!doctype html>
<html>
<head>
    <title>2_Viikon 5 tehtäväkuvaukset</title>
    <meta charset="utf-8">
    
</head>
<body>
<p><br><br></p>
<h3><span lang="EN-US">Tehtävä 1</span></h3>
<p><span lang="EN-US">Tee rocket-frameworkin avulla (funktio nimeltä hello) get-päätepiste kohtaan "/hello/&lt;parametri&gt;", joka palauttaa "Hei, {parametri}!".</span></p>
<p><span lang="EN-US">Huomaa, että konsoliin tuleva tieto Rocket-frameworkistä ei ole tällä viikolla yhtä relevantti kuin endpointtien (esim. get, post jne.) lopputulos.<br></span></p>
<p><span lang="EN-US">Esimerkkiajon lopputulos:<br><img class="img-fluid" role="presentation" src="data/kuva%20%282%29.png" alt=""><br></span></p>
<p><span lang="EN-US"> </span></p>
<p><span lang="EN-US">Esimerkki komentokehote tulostus:<br></span></p>
<p><span lang="EN-US">Punaisella on korostettu kohta, jota klikkaamalla tai kopiomalla ja liittämällä pitäisi päästä katsomaa ylläolevan kuvan lailla ohjelman lopputulosta. Huomaa myös lisänä tekemäsi routen osoite, esim. "/hello/testi".<br></span></p>
<pre><span lang="EN-US">Configured for debug.</span><br><span lang="EN-US">   &gt;&gt; address: 127.0.0.1</span><br><span lang="EN-US">   &gt;&gt; port: 8000</span><br><span lang="EN-US">   &gt;&gt; workers: 16</span><br><span lang="EN-US">   &gt;&gt; max blocking threads: 512</span><br><span lang="EN-US">   &gt;&gt; ident: Rocket</span><br><span lang="EN-US">   &gt;&gt; IP header: X-Real-IP</span><br><span lang="EN-US">   &gt;&gt; limits: bytes = 8KiB, data-form = 2MiB, file = 1MiB, form = 32KiB, json = 1MiB, msgpack = 1MiB, string = 8KiB</span><br><span lang="EN-US">   &gt;&gt; temp dir: C:\Users\veikk\AppData\Local\Temp\</span><br><span lang="EN-US">   &gt;&gt; http/2: true</span><br><span lang="EN-US">   &gt;&gt; keep-alive: 5s</span><br><span lang="EN-US">   &gt;&gt; tls: disabled</span><br><span lang="EN-US">   &gt;&gt; shutdown: ctrlc = true, force = true, grace = 2s, mercy = 3s</span><br><span lang="EN-US">   &gt;&gt; log level: normal</span><br><span lang="EN-US">   &gt;&gt; cli colors: true</span><br><span lang="EN-US">   &gt;&gt; secret key: [generated]</span><br><span lang="EN-US">Warning: secrets enabled without a stable `secret_key`</span><br><span lang="EN-US">   &gt;&gt; disable `secrets` feature or configure a `secret_key`</span><br><span lang="EN-US">   &gt;&gt; this becomes an error in non-debug profiles</span><br><span lang="EN-US">Routes:</span><br><span lang="EN-US">   &gt;&gt; (hello) GET /hello/&lt;someone&gt;</span><br><span lang="EN-US">Fairings:</span><br><span lang="EN-US">   &gt;&gt; Shield (liftoff, response, singleton)</span><br><span lang="EN-US">Shield:</span><br><span lang="EN-US">   &gt;&gt; X-Content-Type-Options: nosniff</span><br><span lang="EN-US">   &gt;&gt; Permissions-Policy: interest-cohort=()</span><br><span lang="EN-US">   &gt;&gt; X-Frame-Options: SAMEORIGIN</span><br><span class="" lang="EN-US" style="color: #ef4540;">Rocket has launched from http://127.0.0.1:8000</span><br><span lang="EN-US">GET / text/html:</span><br><span lang="EN-US">   &gt;&gt; No matching routes for GET / text/html.</span><br><span lang="EN-US">   &gt;&gt; No 404 catcher registered. Using Rocket default.</span><br><span lang="EN-US">   &gt;&gt; Response succeeded.</span><br><span lang="EN-US">GET /favicon.ico image/avif:</span><br><span lang="EN-US">   &gt;&gt; No matching routes for GET /favicon.ico image/avif.</span><br><span lang="EN-US">   &gt;&gt; No 404 catcher registered. Using Rocket default.   </span><br><span lang="EN-US">   &gt;&gt; Response succeeded.</span><br><span lang="EN-US">GET / text/html:</span><br><span lang="EN-US">   &gt;&gt; No matching routes for GET / text/html.</span><br><span lang="EN-US">   &gt;&gt; No 404 catcher registered. Using Rocket default.</span><br><span lang="EN-US">   &gt;&gt; Response succeeded.</span><br><span lang="EN-US">GET /hello/testi text/html:</span><br><span lang="EN-US">   &gt;&gt; Matched: (hello) GET /hello/&lt;someone&gt;</span><br><span lang="EN-US">   &gt;&gt; Note: Using `String` as a parameter type is inefficient. Use `&amp;str` instead.</span><br><span lang="EN-US">   &gt;&gt; `String` is used a parameter guard in src/main.rs:5.</span><br><span lang="EN-US">   &gt;&gt; Outcome: Success(200 OK)</span><br><span lang="EN-US">   &gt;&gt; Response succeeded.</span><br><span lang="EN-US">GET /hello/testi text/html:</span><br><span lang="EN-US">   &gt;&gt; Matched: (hello) GET /hello/&lt;someone&gt;</span><br><span lang="EN-US">   &gt;&gt; Note: Using `String` as a parameter type is inefficient. Use `&amp;str` instead.</span><br><span lang="EN-US">   &gt;&gt; `String` is used a parameter guard in src/main.rs:5.</span><br><span lang="EN-US">   &gt;&gt; Outcome: Success(200 OK)</span><br><span lang="EN-US">   &gt;&gt; Response succeeded.</span><br><span lang="EN-US">GET /hello/testi text/html:</span><br><span lang="EN-US">   &gt;&gt; Matched: (hello) GET /hello/&lt;someone&gt;</span><br><span lang="EN-US">   &gt;&gt; Note: Using `String` as a parameter type is inefficient. Use `&amp;str` instead.</span><br><span lang="EN-US">   &gt;&gt; `String` is used a parameter guard in src/main.rs:5.</span><br><span lang="EN-US">   &gt;&gt; Outcome: Success(200 OK)</span><br><span lang="EN-US">   &gt;&gt; Response succeeded.</span><br><span lang="EN-US">GET /favicon.ico image/avif:</span><br><span lang="EN-US">   &gt;&gt; No matching routes for GET /favicon.ico image/avif.</span><br><span lang="EN-US">   &gt;&gt; No 404 catcher registered. Using Rocket default.</span><br><span lang="EN-US">   &gt;&gt; Response succeeded.</span></pre>
<p><span lang="EN-US"> </span></p>
<p><span lang="EN-US"> </span></p>
<h3><span lang="EN-US">Tehtävä 2</span></h3>
<p>Tee funktio nimeltä render_page, joka renderöi sivun käyttämällä RawHtml:ää Rocket-frameworkistä. renderöi sivu päätepisteestä "/&lt;sivun_nimi&gt;". Liitä page_name kohtaan "/page" rootin "/" sijaan.<br><br>Sivuilla tulee olla div, h1 ja p. Quote ja Bob -sivuilla on alla olevien kuvien kaltaiset tekstit - Otsikko h1-elementissä ja tekstit p-elementissä, sekä molemmat elementit div-elementin sisällä.<br><br>Jos käyttäjä yrittää päästä esimerkiksi "/newpage"en:, virhesivu, jossa on teksti "Sorry, the page is not available." tulee esittää käyttäjälle p-elementissä.<br><br>Esimerkkiajo "/page/bob":<br><img class="img-fluid" role="presentation" src="data/kuva%20%283%29.png" alt=""><br><br></p>
<p><span lang="EN-US">Esimerkkiajo "/page/quote":</span></p>
<p><span lang="EN-US"><img class="img-fluid" role="presentation" src="data/kuva%20%284%29.png" alt=""><br></span></p>
<p><span lang="EN-US">Esimerkkiajo "/page/testi": (testin sijalla voi olla mitä vain, paitsi bob tai quote):</span></p>
<p><span lang="EN-US"><img class="img-fluid" role="presentation" src="data/kuva%20%285%29.png" alt=""><br></span></p>
<p><span lang="EN-US"> </span></p>
<h3><span lang="EN-US">Tehtävä 3</span></h3>
<p>Tee POSt-request osoitteeseen "/", mounttaa POST-requesti "/receive" ja jos viestipyynnön käsittelijän vastaanottama data on "I eat yellow snow!", palauta merkkijono: "Don't do that!".<br><br>Muussa tapauksessa vastaa: "Response received: {variable_data}</p>
<p><span lang="EN-US">”.</span></p>
<p><span lang="EN-US">Voit käyttää jotain työkalua, esim. <a href="https://www.postman.com/">Postman</a>, POST-routen testaamiseen.</span></p>
<p><span lang="EN-US">Esimerkkiajot:<br></span></p>
<p><span lang="EN-US">Yllä näemme routen osoitteen, keskellä olemme valinneet <em>raw</em>-muodon ja pistäneet tekstin body-osioon, ja alla näemme routen antaman vastauksen.<em><br></em></span></p>
<p><span lang="EN-US"><img class="img-fluid" role="presentation" src="data/kuva%20%287%29.png" alt=""><img class="img-fluid" role="presentation" src="data/kuva%20%288%29.png" alt=""><br></span></p>
<p><span lang="EN-US"> </span></p>
<h3>Tehtävä 4</h3>
<p>Tee Rocket-kehyksen avulla HTML-lomake, jossa on kaksi valintaruutua, jossa id on good ja bad, arvo on good ja bad sekä nimetään vastaavasti good ja bad. Lisää myös otsikkoteksti h1-elementtiin tekstillä "How are you?".<br><br>Palauta käyttäjän syötteen perusteella h2 tekstin oikealla puolella:<br>good: "Hey, I am glad to hear that. Keep on rocking'! :)”<br><br>bad: "I'm sorry to hear that. I hope things get better for you. :("<br><br>good ja bad: Can you really be having both a good and a bad day at he same time?<br><br>ja jos vastaus on tyhjä: "You did not share your feelings. :("<br><br>Kun käyttäjä lähettää valintaruudun tiedot submit-napilla, ohjaa käyttäjä uudelleen "/answer"-reitille ja käsittele käyttäjän syöte siellä, renderöiden oikea lopputulos div:n sisällä, jonka id on "response", h2-elementissä.<br><br>Esimerkkikuvia:<br><img class="img-fluid" role="presentation" src="data/kuva%20%289%29.png" alt=""><img class="img-fluid" role="presentation" src="data/kuva%20%2811%29.png" alt=""><img class="img-fluid" role="presentation" src="data/kuva%20%2812%29.png" alt=""></p>
<p><span lang="EN-US"> </span></p>
<h3><span lang="EN-US">Tehtävä 5</span></h3>
<p>Tässä tehtävässä haet tiedoston sisällön get-requestilla ja lisäät tiedostoon sisältöä post-requestin kautta.<br><br><br>Tee get-request osoitteeseen "/message", joka palauttaa RawHtml&lt;String&gt;. Jos tiedostoa ei ole vielä olemassa, luo se nimellä data.txt. Muussa tapauksessa lue tiedoston sisältö, lisää se p-elementin sisään ja palauta se.<br><br>Tee post-reitti kohtaan "/message", joka ottaa Form-objektin, jonka tyyppi on Post, kirjoittaa annetun sisällön tiedoston riville ja palauttaa <span lang="EN-US"> “Message received.”.<br><br>Esimerkkiajoja (taustan värillä ei merkitystä):<br>Post-route:<br><br><img class="img-fluid" role="presentation" src="data/kuva%20%2813%29.png" alt=""><img class="img-fluid" role="presentation" src="data/kuva%20%2814%29.png" alt=""><img class="img-fluid" role="presentation" src="data/kuva%20%2815%29.png" alt=""><img class="img-fluid" role="presentation" src="data/kuva%20%2816%29.png" alt=""><br><br>Get-route:<br><img class="img-fluid" role="presentation" src="data/kuva%20%2817%29.png" alt=""><br><br><br></span></p>
</body>
</html>