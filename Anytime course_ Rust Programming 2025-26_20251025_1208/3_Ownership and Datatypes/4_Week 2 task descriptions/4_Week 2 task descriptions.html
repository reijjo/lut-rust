<!doctype html>
<html>
<head>
    <title>4_Week 2 task descriptions</title>
    <meta charset="utf-8">
    
</head>
<body>
<h3>Task 1</h3>Create a constant variable string, with the value "I want to be changed.".<br>Create a new string from that constant using the create_default() function you created, which creates a String variable and returns it.<br>Create a function called remove_latest_word() that takes a mutable variable reference to a string, removes the latest word and space/newline from the word.<br><br>Loop the menu for the user. The user chooses either 1) Reset 2) Delete the last word 3) add a word 4) print the string and 0) end the program. When choosing 1), the program creates a new default word using the create_default function you created. Option 2) removes the word from the sentence using the function you created. 3) add word string from user input. 4) prints the current string. 0) terminates the program. Otherwise the program should print "Incorrect input. Try again.".<br><br>Note!<br>Different words are separated by spaces - deletion and addition of a word takes happens between spaces.<br>Example run:<br><br>
<pre>| 1) Reset | 2) Remove a word | 3) Add a word | 4) Print string | 0) End program |<br><strong>asd</strong><br>Parsing error. Was the input a number?<br>| 1) Reset | 2) Remove a word | 3) Add a word | 4) Print string | 0) End program |<br><strong>3</strong><br>The new word: <br><strong>Eka sana</strong><br>| 1) Reset | 2) Remove a word | 3) Add a word | 4) Print string | 0) End program |<br><strong>4</strong><br>I want to be changed. Eka sana<br>| 1) Reset | 2) Remove a word | 3) Add a word | 4) Print string | 0) End program |<br><strong>3</strong><br>The new word:<br>lisäsana<br>| 1) Reset | 2) Remove a word | 3) Add a word | 4) Print string | 0) End program |<br><strong>4</strong><br>I want to be changed. Eka sana lisäsana<br>| 1) Reset | 2) Remove a word | 3) Add a word | 4) Print string | 0) End program |<br><strong>2</strong><br>| 1) Reset | 2) Remove a word | 3) Add a word | 4) Print string | 0) End program |<br><strong>4</strong><br>I want to be changed. Eka sana<br>| 1) Reset | 2) Remove a word | 3) Add a word | 4) Print string | 0) End program |<br><strong>2</strong><br>| 1) Reset | 2) Remove a word | 3) Add a word | 4) Print string | 0) End program |<br><strong>4</strong><br>I want to be changed. Eka<br>| 1) Reset | 2) Remove a word | 3) Add a word | 4) Print string | 0) End program |<br><strong>1</strong><br>| 1) Reset | 2) Remove a word | 3) Add a word | 4) Print string | 0) End program |<br><strong>4</strong><br>I want to be changed.<br>| 1) Reset | 2) Remove a word | 3) Add a word | 4) Print string | 0) End program |<br><strong>0</strong></pre><br><br>
<h3>Task 2</h3>Make a calculator program that can edit a number. The number is initialized to zero. Use i32 to store the number.<br><br>End with each user input 1) initialize the number to zero, 2) add the number given by the user to the number, 3) subtract the number given by the user from the number, 4) multiply the number by the number given by the user, 5) divide the number by the number given by the user, 6) print the number and 0) end the program. In other cases, print "Invalid input. Try again".<br><br>When the user wants to modify the number, use mutable references in function parameters such as addition and division, and immutable references when you print the number for the user to see.<br>Example run:<br><br>
<pre>| 1) Reset | 2) Addition | 3) Retraction | 4) Multiplication | 5) Division | 6) Print | 0) End program |<br><strong>6</strong><br>Current number: 0<br>| 1) Reset | 2) Addition | 3) Retraction | 4) Multiplication | 5) Division | 6) Print | 0) End program |<br><strong>2</strong><br>What number?<br><strong>5</strong><br>| 1) Reset | 2) Addition | 3) Retraction | 4) Multiplication | 5) Division | 6) Print | 0) End program |<br><strong>6</strong><br>Current number: 5<br>| 1) Reset | 2) Addition | 3) Retraction | 4) Multiplication | 5) Division | 6) Print | 0) End program |<br><strong>1</strong><br>| 1) Reset | 2) Addition | 3) Retraction | 4) Multiplication | 5) Division | 6) Print | 0) End program |<br><strong>6</strong><br>Current number: 0<br>| 1) Reset | 2) Addition | 3) Retraction | 4) Multiplication | 5) Division | 6) Print | 0) End program |<br><strong>2</strong><br>What number?<br><strong>1</strong><br>| 1) Reset | 2) Addition | 3) Retraction | 4) Multiplication | 5) Division | 6) Print | 0) End program |<br><strong>4</strong><br>What number?<br><strong>7</strong><br>| 1) Reset | 2) Addition | 3) Retraction | 4) Multiplication | 5) Division | 6) Print | 0) End program |<br><strong>6</strong><br>Current number: 7<br>| 1) Reset | 2) Addition | 3) Retraction | 4) Multiplication | 5) Division | 6) Print | 0) End program |<br><strong>5</strong><br>What number?<br><strong>2</strong><br>| 1) Reset | 2) Addition | 3) Retraction | 4) Multiplication | 5) Division | 6) Print | 0) End program |<br><strong>6</strong><br>Current number: 3<br>| 1) Reset | 2) Addition | 3) Retraction | 4) Multiplication | 5) Division | 6) Print | 0) End program |<br><strong>0</strong><br>Ending the program.</pre><br><br>
<p></p>
<h3>Task 3</h3>In this task, you make a new public module with a public function and use it in another file, the main.rs file.<br>Make a new folder called "new_module" in the src folder. Make mod.rs file and new_file.rs. Make new_file a public module in the mod.rs file. In file new_file.rs, make a public function called calling_from_far() that prints "Hello! I am speaking to you from another file!" and returns 1.<br><br>Import "new_module" into main.rs and use new_file from new_module.<br>Call the function calling_from_far in the main.rs file.<br><br>Example run:<br><br>
<pre>Hello! I am speaking to you from another file!</pre><br>
<p></p>
<h3>Task 4</h3>In this task you make more extensive use of the functions of the external module you created, according to your needs.<br><br>Make a program where the user can move x in a character table by giving input. X cannot slip outside of the array.<br><br>Put all the map functions and the x shift functions in a folder called "map" inside the src folder. Put the (public) functions in the arraymap.rs file. In mod.rs file make arraymap public.<br>Make a function that makes a array-like structure to the console using print functions to print 5 rows of stars, a 5 x 5 grid. Print an x ​​in the center of the grid instead of an asterisk (*).<br><br>Make a loop that moves x based on user input. Enter w) to move x up the grid, a) move it left, s) move it down, d) move it right. If x can't move out of the map, don't move x and print "Can't move out of the map" in addition to printing the current grid. e) terminates the program.<br><br>Use a 2D string array to store the data.<br><br>Use a function called create_map() to create a default map.<br><br>In the main file, call the function create_map() to create the default map. Print the map.<br><br>Then loop as above, asking the user to input w, a s, or d to move x, or e to exit the program. Call the appropriate functions in the arraymap.rs file as needed. Use references when passing an arraymap variable to functions that are mutable or immutable as needed.<br><br>Example run:
<pre>* * * * *<br>* * * * *<br>* * x * *<br>* * * * *<br>* * * * *<br>| w) Move up | a) Move left | s) Move down | d) Move right | e) End program |<br><strong>w</strong><br>* * * * *<br>* * x * *<br>* * * * *<br>* * * * *<br>* * * * *<br>| w) Move up | a) Move left | s) Move down | d) Move right | e) End program |<br><strong>w</strong><br>* * x * *<br>* * * * *<br>* * * * *<br>* * * * *<br>* * * * *<br>| w) Move up | a) Move left | s) Move down | d) Move right | e) End program |<br><strong>w</strong><br>Can't move out of the map<br>* * x * *<br>* * * * *<br>* * * * *<br>* * * * *<br>* * * * *<br>| w) Move up | a) Move left | s) Move down | d) Move right | e) End program |<br><strong>a</strong><br>* x * * *<br>* * * * *<br>* * * * *<br>* * * * *<br>* * * * *<br>| w) Move up | a) Move left | s) Move down | d) Move right | e) End program |<br><strong>a</strong><br>x * * * *<br>* * * * *<br>* * * * *<br>* * * * *<br>* * * * *<br>| w) Move up | a) Move left | s) Move down | d) Move right | e) End program |<br><strong>a</strong><br>Can't move out of the map<br>x * * * *<br>* * * * *<br>* * * * *<br>* * * * *<br>* * * * *<br>| w) Move up | a) Move left | s) Move down | d) Move right | e) End program |<br><strong>d</strong><br>* x * * *<br>* * * * *<br>* * * * *<br>* * * * *<br>* * * * *<br>| w) Move up | a) Move left | s) Move down | d) Move right | e) End program |<br><strong>d</strong><br>* * x * *<br>* * * * *<br>* * * * *<br>* * * * *<br>* * * * *<br>| w) Move up | a) Move left | s) Move down | d) Move right | e) End program |<br><strong>s</strong><br>* * * * *<br>* * x * *<br>* * * * *<br>* * * * *<br>* * * * *<br>| w) Move up | a) Move left | s) Move down | d) Move right | e) End program |<br><strong>d</strong><br>* * * * *<br>* * * x *<br>* * * * *<br>* * * * *<br>* * * * *<br>| w) Move up | a) Move left | s) Move down | d) Move right | e) End program |<br><strong>d</strong><br>* * * * *<br>* * * * x<br>* * * * *<br>* * * * *<br>* * * * *<br>| w) Move up | a) Move left | s) Move down | d) Move right | e) End program |<br><strong>d</strong><br>Can't move out of the map<br>* * * * *<br>* * * * x<br>* * * * *<br>* * * * *<br>* * * * *<br>| w) Move up | a) Move left | s) Move down | d) Move right | e) End program |<br><strong>s</strong><br>* * * * *<br>* * * * *<br>* * * * x<br>* * * * *<br>* * * * *<br>| w) Move up | a) Move left | s) Move down | d) Move right | e) End program |<br><strong>s</strong><br>* * * * *<br>* * * * *<br>* * * * *<br>* * * * x<br>* * * * *<br>| w) Move up | a) Move left | s) Move down | d) Move right | e) End program |<br><strong>s</strong><br>* * * * *<br>* * * * *<br>* * * * *<br>* * * * *<br>* * * * x<br>| w) Move up | a) Move left | s) Move down | d) Move right | e) End program |<br><strong>s</strong><br>Can't move out of the map<br>* * * * *<br>* * * * *<br>* * * * *<br>* * * * *<br>* * * * x<br>| w) Move up | a) Move left | s) Move down | d) Move right | e) End program |<br><strong>a</strong><br>* * * * *<br>* * * * *<br>* * * * *<br>* * * * *<br>* * * x *<br>| w) Move up | a) Move left | s) Move down | d) Move right | e) End program |<br><strong>e</strong><br>Ending the program.</pre><br>
<p></p>
<h3>Task 5</h3>In this exercise, you will again create new files in a module called receipt. Make a folder called receipt with files content.rs, product.rs and mod.rs. Make the two files public in mod.rs. In product.rs, make a structure called StoreProduct, and a function called create_products() that creates a vector of type StoreProduct and stores 3 variables of type StoreProduct with the values ​​<strong>given in the image</strong> and returns an array with all 3 in the given order. StoreProduct has a name and a total price.<br><br><img src="data/kuva.png" alt="" role="presentation" class="img-fluid"><br><br>The content.rs file contains most of the code in this task.<br>Use StoreProduct from the product.rs file.<br><br><img src="data/kuva%20%281%29.png" alt="" role="presentation" class="img-fluid"><br><br>Make constant variables for the three products <strong>as shown</strong>.<br>Make a struct called ReceiptContent with two attributes: "products" which is a vector of type StoreProduct and "store" which is of type String.<br><br>Make a loop that asks the user to either 1) add to cart 2) remove the newest item or 3) buy the current items in the cart. If the user decides to add to cart, ask the user which product they want to add and print all the options on their own lines using the print function. By choosing 1, 2 or 3, the user input matches the products <strong>in the image above.</strong><br><br>When the user adds a product using the function, adds the product to a variable of type ReceiptContent.<br><br>When the user wants to remove the latest product, remove the latest product from the ReceiptContent variable.<br><br>When the user wants to buy all the products they have selected, calculate the total price of the products using the function you created called complete_purchase() with the return type of empty Result. The receipt should be outputted to a textfile called "receipt.txt".<br><br>Example:<br><img src="data/kuva%20%282%29.png" alt="" role="presentation" class="img-fluid"><br><br>Below is a receipt printout in addition to an example run. Write the information on the receipt, how many items were bought, how much they cost and the final price, the name of the store.<br>Example run:<br><br>
<pre>| 1) Add to cart | 2) Remove most recent product | 3) Purchase |<br><strong>1</strong><br>Which product would you like to add?<br>1) Zbox 720 | Price - 600<br>2) GPU - AND Random RT6600 | Price - 200<br>3) Potato | Price - 1<br><strong>1</strong><br>| 1) Add to cart | 2) Remove most recent product | 3) Purchase |<br><strong>1</strong><br>Which product would you like to add?<br>1) Zbox 720 | Price - 600<br>2) GPU - AND Random RT6600 | Price - 200<br>3) Potato | Price - 1<br><strong>2</strong><br>| 1) Add to cart | 2) Remove most recent product | 3) Purchase |<br><strong>1</strong><br>Which product would you like to add?<br>1) Zbox 720 | Price - 600<br>2) GPU - AND Random RT6600 | Price - 200<br>3) Potato | Price - 1<br><strong>3</strong><br>| 1) Add to cart | 2) Remove most recent product | 3) Purchase |<br><strong>1</strong><br>Which product would you like to add?<br>1) Zbox 720 | Price - 600<br>2) GPU - AND Random RT6600 | Price - 200<br>3) Potato | Price - 1<br><strong>1</strong><br>| 1) Add to cart | 2) Remove most recent product | 3) Purchase |<br><strong>2</strong><br>| 1) Add to cart | 2) Remove most recent product | 3) Purchase |<br><strong>3</strong><br>Thank you for your purchase!<br><br></pre>
<p>Receipt printing example (print only those products of which at least 1 copy has been purchased):</p>
<pre>Imaginary Town General Store<br>------------------------------<br>Zbox 720 (1) - 600€<br>GPU - AND Random RT6600 (1) - 200€<br>Potato (1) - 1€<br>------------------------------<br>Final price: 801€<br>------------------------------<br><br></pre>
<p><br></p>
<h3><strong>Task 6</strong></h3>In this exercise, you are given a finished program with an error related to the lifetime concept. The program does not compile, and to fix the situation, you need to modify the program by moving or deleting sections so that the program works. Your goal is to modify the program so that it runs. Try running the program on your own device first, read the error given by the compiler, fix the program, and return the fixed version as is to Codegrade.<br><br>The program should return a reference to the variable with the longest string. Since the lifetime of references depends on the lifetime of their owner, this must be taken into account when writing the program.<br><br>The program consists of the files<em> lib.rs</em> and <em>main.rs,</em> which are provided. The project folder name must be "ch2_pt6_lifetime". Only modify the<em> run_main()</em> function in the<em> lib.rs file</em>.<br><br>Program:<p><em>lib.rs</em></p>
<div>
    <pre><span class="" style="color: rgb(125, 159, 211);"></span></pre>
    <div>
        <pre><span class="" style="color: rgb(125, 159, 211);">fn </span>longest&lt;'a&gt;(s1: &amp;'a <span class="" style="color: rgb(125, 159, 211);">str</span>, s2: &amp;'a <span class="" style="color: rgb(125, 159, 211);">str</span>) -&gt; &amp;'a <span class="" style="color: rgb(125, 159, 211);">str </span>{</pre>
        <pre>&nbsp; &nbsp; <span class="" style="color: rgb(125, 159, 211);">if </span>s1.len() &gt; s2.len() {</pre>
        <pre>&nbsp; &nbsp; &nbsp; &nbsp; s1</pre>
        <pre>&nbsp; &nbsp; } <span class="" style="color: rgb(125, 159, 211);">else </span>{</pre>
        <pre>&nbsp; &nbsp; &nbsp; &nbsp; s2</pre>
        <pre>&nbsp; &nbsp; }</pre>
        <pre>}</pre>
        <pre><br></pre>
        <pre><span class="" style="color: rgb(125, 159, 211);">pub fn</span> run_main() -&gt; String {</pre>
        <pre>&nbsp; &nbsp; <span class="" style="color: rgb(125, 159, 211);">let </span>result;</pre>
        <pre>&nbsp; &nbsp; {</pre>
        <pre>&nbsp; &nbsp; &nbsp; &nbsp; <span class="" style="color: rgb(125, 159, 211);">let </span>string1 = String::from("long string");</pre>
        <pre>&nbsp; &nbsp; &nbsp; &nbsp; <span class="" style="color: rgb(125, 159, 211);">let </span>string2 = "short";</pre>
        <pre><br></pre>
        <pre>&nbsp; &nbsp; &nbsp; &nbsp; result = longest(&amp;string1, string2);</pre>
        <pre>&nbsp; &nbsp; }</pre>
        <pre>&nbsp; &nbsp; result.to_string()</pre>
        <pre>}</pre><br>
    </div><em>main.rs:</em><br><br>
</div>
<div>
    <pre><span class="" style="color: rgb(125, 159, 211);">use </span>ch2_pt6_lifetime::run_main;</pre>
    <pre><br></pre>
    <pre>fn main() {</pre>
    <pre>&nbsp; &nbsp; <span class="" style="color: rgb(125, 159, 211);">let </span>result = run_main();</pre>
    <pre>&nbsp; &nbsp; println!("The longest string is: {}", result);</pre>
    <pre>}</pre><br>
</div>Project structure:<br>ch2_pt6_lifetime/<br>├── src/<br>│&nbsp;&nbsp; ├── lib.rs<br>│&nbsp;&nbsp; └── main.rs<br>├── Cargo.toml<p></p>
<p><br></p>
<p></p>
</body>
</html>