<!doctype html>
<html>
<head>
    <title>2_Viikon 4 tehtäväkuvaukset</title>
    <meta charset="utf-8">
    
</head>
<body>
<em><em><br></em></em><span><span><h3>Tehtävä 1</h3></span></span><span><span>Tässä
 tehtävässä teet yksinkertaisen komentotulkin. Tee funktio nimeltä 
"read_file()", joka lukee tällä sivulla annetun "read.txt" -tiedoston merkkijonoon ja tulostaa sen 
tulosteen konsoliin. Tee funktio nimeltä "prank_user()", jossa tulostat 
"You have receved an email". Kumpikaan funktioista ei ota ulkoisia parametreja.<br></span><span><br></span><span>Tee silmukka pääfunktioon, joka 
toimii komentotulkkina ja ottaa käyttäjän syötteen. Jos käyttäjä syöttää
 "read", käytä read_file-toimintoa. Jos käyttäjä syöttää "prank", kutsu 
prank_user-funktiota. Muussa tapauksessa tulosta "Invalid command. Try 
again."</span><span><br><br>Esimerkkiajo:<br><br><img src="data/kuva.png" alt="" role="presentation" class="img-fluid"><br><br><br><h3>Tehtävä 2</h3>

<p><span lang="EN-US">Tee ohjelma, joka annettujen 
komentoriviparametrien perusteella joko lukee tietyn tiedoston tai 
kirjoittaa tiettyyn tiedostoon. Parametrien tulee sisältää tiedoston 
nimi, suoritettavat toimet (kirjoitus/luku) ja mahdollisesti toinen 
tiedosto, jolla on ensimmäiseen tiedostoon kirjoitettava sisältö. Nimeä 
funktiot write_in_file ja read_file. Ne ottavat vastaavasti 2 ja 1 
parametria.<br></span></p><p><span lang="EN-US">Huomaa, että writeln!-komento luo ylimääräisen rivin kirjoitettuun tiedostoon. Esimerkiksi <a href="https://doc.rust-lang.org/std/macro.write.html">write!</a>-komennolla saa käyttäjän syötteen sellaisenaan kirjoitettua tiedostoon. <br></span></p><p><span lang="EN-US"><span><span>Huomaa, että ohjelma pitää ajaa esimerkiksi <em>cargo run</em><span> komennolla</span> rust-analyzer työkalun Run-napin sijasta, sillä sinun ohjelma käyttää komentoriviargumentteja.</span><br></span></span></p><p><span lang="EN-US"><span><br></span></span></p><p><span lang="EN-US">Esimerkkiajo kirjoitus:<br></span></p></span></span><p><span><span></span></span></p><p><span lang="EN-US"><em>cargo run uusi_tiedosto.txt write "testi lisäys"</em></span></p><p></p><pre><br><span><span><p><span lang="EN-US"></span></p></span></span></pre><span><span><p><span lang="EN-US"><img src="data/kuva%20%281%29.png" alt="" role="presentation" class="img-fluid"><br></span></p><p><span lang="EN-US"><br></span></p><p><span lang="EN-US">Esimerkkiajo luku:<br></span></p></span></span><p><span><span></span></span></p><p><span lang="EN-US"><em>cargo run uusi_tiedosto.txt read</em></span></p><p></p><pre><span><span><p><span lang="EN-US">The contents of the file:</span></p><p><span lang="EN-US"><br></span></p><p><span lang="EN-US">testi lisäys<br></span></p><p><span lang="EN-US"><br></span></p></span></span></pre><p><span><span></span></span></p><p><span lang="EN-US">Esimerkkiajo ilman komentoja:<br></span></p><p><span lang="EN-US"><em>cargo run<br></em></span></p><p></p><pre><span lang="EN-US">No arguments were given.</span><br><span lang="EN-US"></span></pre><p><span><span></span></span><br><span><span></span></span></p><p><span lang="EN-US"></span></p><p></p><pre><br><span><span></span></span></pre><span><span><h3>Tehtävä 3</h3>Tässä tehtävässä teemme funktion, joka käyttää säikeitä (threads). Tietyn 
ajan kuluttua käyttäjän on painettava näppäintä <strong>f</strong> lyhyen ajan sisällä. Jos
 käyttäjä painaa oikeaa näppäintä, kun vielä on aikaa, hän voittaa 
kaksintaistelun. Väärän näppäimen painaminen johtaa siihen, että 
käyttäjä jää väliin, ja ohjelman on odotettava kunnes vihollinen tekee vuoronsa. Jos ei ammuta ajoissa, vastustaja ampuu ensin. Kaksintaistelu alkaa 5 sekunnin päästä. Kun 3 sekuntia on kulunut, vastustaja voittaa pelin.<br><br>Tee funktio nimeltä <strong>start_duel()</strong>, joka käynnistää taistelun ja säikeet sekä muut toiminnot, joita tarvitset ohjelman tekemiseen.<br><br>Esimerkkiajo, käyttäjä ei tee mitään:<br></span></span><pre><span><span>FIRE!!!<br></span></span><span><span>Opponent shoots first!</span></span><br><span><span></span></span></pre><span><span><p><span lang="EN-US">&nbsp;</span></p><p><span lang="EN-US">Esimerkkiajo, käyttäjä syöttää f kirjaimen oikeassa kohtaa:</span></p></span></span><pre><span><span><p><span lang="EN-US">FIRE!!!</span></p><p><span lang="EN-US"><strong>f<br></strong></span></p><p><span><span lang="EN-US"><span>You fire first!</span></span></span><strong><span lang="EN-US"><span><br></span></span></strong></p></span></span><br><span><span><p><span lang="EN-US"></span></p></span></span></pre><span><span></span></span><span><span><h3>Tehtävä 4</h3>

<p><span lang="EN-US">Jatketaan säikeillä. Käyttäjällä on joko 100 000 
dollarin tai 1 000 000 dollarin arvosta rahaa, ja hänen on estettävä 
kaksi varkautta varastamasta. Ohjelma korostaa tiedonsiirtoa säikeiden 
välillä. Siinä on kolme säiettä, joista kaksi edustaa varkaita. 
Viimeinen on valmis vastaanottamaan syötteen käyttäjältä, jolloin hän 
voi pysäyttää rikolliset ennen kuin lisää rahaa menetetään. 
Lopputuloksena on, että varkaat pääsivät karkuun ottamansa rahan kanssa 
ennen kuin kirjoitit "catch" tai menetät kaikki rahasi ennen kuin ehdit 
kirjoittaa "catch".&nbsp;</span></p><p><span lang="EN-US">Tee funktio nimeltä
 create_threads(), joka luo säikeen per varas, ja yksi säie, jossa 
käyttäjä saa kiinni varkaat ja joka looppaa kunnes käyttäjä saa 
kirjoitettua "catch" tai rahat ovat loppu. Funktio ottaa parametrina luvun, ei referenssiä.</span></p><p><span lang="EN-US">Varkaiden
 säikeiden sleep-aika on 5 sekuntia varkaalle, joka vie 10 000 dollaria,
 ja 3 sekuntia toiselle varkaalle, joka vie sinulta 35 000 dollaria.<br></span></p><p><span lang="EN-US"><br></span></p><p><span lang="EN-US">Esimerkkiajo, miljoona dollaria:<br></span></p></span></span><pre><span><span><p><span lang="EN-US">Do you have a million dollars? | y = yes, n = no</span></p></span></span><br><span><span><p><span lang="EN-US">y</span></p></span></span><br><span><span><p><span lang="EN-US">All right then, millionaire.</span></p></span></span><br><span><span><p><span lang="EN-US">ALERT!!! Someone stole $35,000 from you!</span></p></span></span><br><span><span><p><span lang="EN-US">Funds left: 965000</span></p></span></span><br><span><span><p><span lang="EN-US">ALERT!!! Someone stole $10,000 from you!</span></p></span></span><br><span><span><p><span lang="EN-US">Funds left: 955000</span></p></span></span><br><span><span><p><span lang="EN-US"><strong>catch</strong></span></p></span></span><br><span><span><p><span lang="EN-US">The thieves have left.</span></p></span></span></pre><span><span><p><span lang="EN-US"><br></span></p><p><span lang="EN-US">Esimerkkiajo, ei miljoonaa dollaria:</span></p></span></span><pre><span><span><p><span lang="EN-US">Do you have a million dollars? | y = yes, n = no</span></p></span></span><br><span><span><p><span lang="EN-US">n</span></p></span></span><br><span><span><p><span lang="EN-US">Let's just assume you have $100,000 then.</span></p></span></span><br><span><span><p><span lang="EN-US">ALERT!!! Someone stole $35,000 from you!</span></p></span></span><br><span><span><p><span lang="EN-US">Funds left: 65000</span></p></span></span><br><span><span><p><span lang="EN-US">ALERT!!! Someone stole $10,000 from you!</span></p></span></span><br><span><span><p><span lang="EN-US">Funds left: 55000</span></p></span></span><br><span><span><p><span lang="EN-US">ALERT!!! Someone stole $35,000 from you!</span></p></span></span><br><span><span><p><span lang="EN-US">Funds left: 20000</span></p></span></span><br><span><span><p><span lang="EN-US"><span><span><span lang="EN-US"><strong>catch</strong></span></span></span></span></p></span></span><br><span><span><p><span lang="EN-US">The thieves have left.</span></p></span></span><br><span><span><p><span lang="EN-US"></span></p></span></span></pre><span><span>

<h3>Tehtävä 5</h3>

Tämä harjoitus sisältää lähes kaikki tässä luvussa käsitellyt aiheet. 
Ohjelma sisältää komentotulkin, vaatii komentoriviargumentteja ja 
sisältää säikeitä. Argumentit määrittelevät mitä kirjainta (arg 1) on 
painettava mahdollisimman monta annetussa sekuntimäärässä (arg 2). Yksi 
säikeistä laskee kuinka aika kuluu. Toinen vastaanottaa syötteitä 
käyttäjältä. Pääsäie on tilassa, jossa se käsittelee näistä kahdesta 
säikeestä saatua dataa. Tulosta lopuksi, kuinka monta painallusta 
käyttäjä on tehnyt ja minkä näppäimen käyttäjä valitsi.<br>Huomaa, että ohjelma pitää ajaa esimerkiksi <em>cargo run</em><span> komennolla</span> rust-analyzer työkalun Run-napin sijasta, sillä sinun ohjelma käyttää komentoriviargumentteja.<br><br>Esimerkkiajo:<br><em>cargo run f 10<strong><br><br></strong></em></span></span><pre><span><span>Do you want to start or exit?</span></span><br><span><span>$ <strong>start</strong></span></span><br><span><span>f</span></span><br><span><span>Presses: 1</span></span><br><span><span>f</span></span><br><span><span>Presses: 2</span></span><br><span><span>ff</span></span><br><span><span>f</span></span><br><span><span>Presses: 3</span></span><br><span><span>f</span></span><br><span><span>Presses: 4</span></span><br><span><span>f</span></span><br><span><span>Presses: 5</span></span><br><span><span>f</span></span><br><span><span>Presses: 6</span></span><br><span><span>f</span></span><br><span><span>Presses: 7</span></span><br><span><span>f</span></span><br><span><span>Presses: 8</span></span><br><span><span>f</span></span><br><span><span>Presses: 9</span></span><br><span><span>f</span></span><br><span><span>Presses: 10</span></span><br><span><span>f</span></span><br><span><span>Presses: 11</span></span><br><span><span>f</span></span><br><span><span>Presses: 12</span></span><br><span><span>f</span></span><br><span><span>Presses: 13</span></span><br><span><span>f</span></span><br><span><span>Presses: 14</span></span><br><span><span>f</span></span><br><span><span>Presses: 15</span></span><br><span><span>f</span></span><br><span><span>Presses: 16</span></span><br><span><span>f</span></span><br><span><span>Presses: 17</span></span><br><span><span>ff</span></span><br><span><span>f</span></span><br><span><span>ff</span></span><br><span><span>ff</span></span><br><span><span>f</span></span><br><span><span>Presses: 19</span></span><br><span><span>f</span></span><br><span><span>Presses: 20</span></span><br><span><span>f</span></span><br><span><span>Presses: 21</span></span><br><span><span>f</span></span><br><span><span>Presses: 22</span></span><br><span><span>f</span></span><br><span><span>Presses: 23</span></span><br><span><span>f</span></span><br><span><span>Presses: 24</span></span><br><span><span>f</span></span><br><span><span>Presses: 25</span></span><br><span><span>f</span></span><br><span><span>Presses: 26</span></span><br><span><span>f</span></span><br><span><span>Presses: 27</span></span><br><span><span>f</span></span><br><span><span>Presses: 28</span></span><br><span><span>f</span></span><br><span><span>Presses: 29</span></span><br><span><span>f</span></span><br><span><span>Presses: 30</span></span><br><span><span>f</span></span><br><span><span>Presses: 31</span></span><br><span><span>f</span></span><br><span><span>Presses: 32</span></span><br><span><span>f</span></span><br><span><span>Presses: 33</span></span><br><span><span>f</span></span><br><span><span>Presses: 34</span></span><br><span><span>fYou have managed to press 'f' 34 times.<br><br></span></span></pre><p><span><span>Esimerkkiajo 2:</span></span></p><p><span><span><em>cargo run f 10</em></span></span></p><pre><span><span><span><span>Do you want to start or exit?<br>$ <strong>exit</strong></span></span></span></span><strong><em><span><span><span><br></span></span></span></em></strong><span><span></span></span><span><span></span></span><span lang="EN-US"></span></pre>
</body>
</html>