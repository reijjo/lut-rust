<!doctype html>
<html>
<head>
    <title>4_Week 4 task descriptions</title>
    <meta charset="utf-8">
    
</head>
<body>
<em><em><br></em></em><span><span><h3>Task 1</h3></span></span><span><span>In this task, you will make a simple shell. Make a function called "read_file()" that reads the "read.txt" file given on this page into a string and prints its output to the console. Make a function called "prank_user()" where you print "You have received an email". Neither function takes external parameters.<br><br>Make a loop in the main function that acts as a shell and takes user input. If the user enters "read", use the read_file function. If the user enters "prank", call the prank_user function. Otherwise, print "Invalid command. Try again."<br><br>Example run:</span><span><br><br><img src="data/kuva.png" alt="" role="presentation" class="img-fluid"><br><br><br><h3>Task 2</h3>Make a program that, based on the given command line parameters, either reads a specific file or writes to a specific file. The parameters should include the name of the file, the operations to be performed (write/read) and possibly another file with the content to be written to the first file. Name the functions write_in_file and read_file. They take 2 and 1 parameters respectively.<br><br>Note that the writeln! command creates an extra line in the written file. For example, the <a href="https://doc.rust-lang.org/std/macro.write.html">write!</a> command allows the user's input to be written to the file as it is.<br><br>Note that the program must be run with, for example, the <em>cargo run</em> command instead of the Run button of the rust-analyzer tool, because your program uses command line arguments.<br><br><br>Example run with command line parameters:</span></span><p><span><span></span></span></p><p><span lang="EN-US"><em>cargo run uusi_tiedosto.txt write "testi lisäys"</em></span></p><p></p><pre><br><span><span><p><span lang="EN-US"></span></p></span></span></pre><span><span><p><span lang="EN-US"><img src="data/kuva%20%281%29.png" alt="" role="presentation" class="img-fluid"><br></span></p><p><span lang="EN-US"><br></span></p><p><span lang="EN-US">Example run read:<br></span></p></span></span><p><span><span></span></span></p><p><span lang="EN-US"><em>cargo run uusi_tiedosto.txt read</em></span></p><p></p><pre><span><span><p><span lang="EN-US">The contents of the file:</span></p><p><span lang="EN-US"><br></span></p><p><span lang="EN-US">testi lisäys<br></span></p><p><span lang="EN-US"><br></span></p></span></span></pre><p><span><span></span></span></p><p><span lang="EN-US">Example run without commands:<br></span></p><p><span lang="EN-US"><em>cargo run<br></em></span></p><p></p><pre><span lang="EN-US">No arguments were given.</span><br><span lang="EN-US"></span></pre><p><span><span></span></span><br><span><span></span></span></p><p><span lang="EN-US"></span></p><p></p><pre><br><span><span></span></span></pre><span><span><h3>Task 3</h3>In this task, we make a function that uses threads. After a certain time, the user must press the key <strong>f</strong> within a short time. If the user presses the correct key while there is still time, they win the duel. Pressing the wrong key results in the user being missed, and the program must wait until the enemy takes their turn. If you don't shoot in time, the opponent will shoot first. The duel starts in 5 seconds. When 3 seconds have passed, the opponent wins the game.<br><br>Make a function called <strong>start_duel()</strong> that starts the battle and the threads and other functions you need to make the program.<br><br>Example run, user does nothing:</span></span><pre><span><span>FIRE!!!<br></span></span><span><span>Opponent shoots first!</span></span><br><span><span></span></span></pre><span><span><p><span lang="EN-US">&nbsp;</span></p><p><span lang="EN-US">Example run, user inputs the letter f at the right time:</span></p></span></span><pre><span><span><p><span lang="EN-US">FIRE!!!</span></p><p><span lang="EN-US"><strong>f<br></strong></span></p><p><span><span lang="EN-US"><span>You fire first!</span></span></span><strong><span lang="EN-US"><span><br></span></span></strong></p></span></span><br><span><span><p><span lang="EN-US"></span></p></span></span></pre><span><span></span></span><span><span><h3>Task 4</h3>Let's continue with threads. The user has either $100,000 or $1,000,000 worth of money and must stop two thieves from stealing it. The program emphasizes data transfer between threads. It has three threads, two of which represent thieves. The last one is ready to receive input from the user, allowing him to stop criminals before more money is lost. The end result is that the thieves got away with the money they took before you typed "catch" or you lost all your money before you could type "catch". <br><br>Make a function called create_threads() that creates a thread per thief, and one thread where the user catches the thieves and loops until the user says "catch" or runs out of money. The function takes a number as a parameter, not a reference.<br><br>Thief threads have a sleep time of 5 seconds for a thief who takes $10,000 and 3 seconds for another thief who takes $35,000 from you.<br><br><br>Example run, $1 million:</span></span><pre><span><span><p><span lang="EN-US">Do you have a million dollars? | y = yes, n = no</span></p></span></span><br><span><span><p><span lang="EN-US">y</span></p></span></span><br><span><span><p><span lang="EN-US">All right then, millionaire.</span></p></span></span><br><span><span><p><span lang="EN-US">ALERT!!! Someone stole $35,000 from you!</span></p></span></span><br><span><span><p><span lang="EN-US">Funds left: 965000</span></p></span></span><br><span><span><p><span lang="EN-US">ALERT!!! Someone stole $10,000 from you!</span></p></span></span><br><span><span><p><span lang="EN-US">Funds left: 955000</span></p></span></span><br><span><span><p><span lang="EN-US"><strong>catch</strong></span></p></span></span><br><span><span><p><span lang="EN-US">The thieves have left.</span></p></span></span></pre><span><span><p><span lang="EN-US"><br></span></p><p><span lang="EN-US">Example run, no million dollars:</span></p></span></span><pre><span><span><p><span lang="EN-US">Do you have a million dollars? | y = yes, n = no</span></p></span></span><br><span><span><p><span lang="EN-US">n</span></p></span></span><br><span><span><p><span lang="EN-US">Let's just assume you have $100,000 then.</span></p></span></span><br><span><span><p><span lang="EN-US">ALERT!!! Someone stole $35,000 from you!</span></p></span></span><br><span><span><p><span lang="EN-US">Funds left: 65000</span></p></span></span><br><span><span><p><span lang="EN-US">ALERT!!! Someone stole $10,000 from you!</span></p></span></span><br><span><span><p><span lang="EN-US">Funds left: 55000</span></p></span></span><br><span><span><p><span lang="EN-US">ALERT!!! Someone stole $35,000 from you!</span></p></span></span><br><span><span><p><span lang="EN-US">Funds left: 20000</span></p></span></span><br><span><span><p><span lang="EN-US"><span><span><span lang="EN-US"><strong>catch</strong></span></span></span></span></p></span></span><br><span><span><p><span lang="EN-US">The thieves have left.</span></p></span></span><br><span><span><p><span lang="EN-US"></span></p></span></span></pre><span><span>

<h3>Task 5</h3>This exercise covers almost all the topics covered in this chapter. The program includes a shell, requires command-line arguments, and contains threads. The arguments define which letter (arg 1) must be printed as many as possible in the given number of seconds (arg 2). One of the threads calculates how time passes. The other receives inputs from the user. The main thread is in a state where it processes the data received from these two threads. Finally, print how many presses the user has made and which key the user selected.<br>Note that the program must be run with, for example, the cargo run command instead of the Run button of the rust-analyzer tool, because your program uses command line arguments.<br><br>Example run:<br><em>cargo run f 10<strong><br><br></strong></em></span></span><pre><span><span>Do you want to start or exit?</span></span><br><span><span>$ <strong>start</strong></span></span><br><span><span>f</span></span><br><span><span>Presses: 1</span></span><br><span><span>f</span></span><br><span><span>Presses: 2</span></span><br><span><span>ff</span></span><br><span><span>f</span></span><br><span><span>Presses: 3</span></span><br><span><span>f</span></span><br><span><span>Presses: 4</span></span><br><span><span>f</span></span><br><span><span>Presses: 5</span></span><br><span><span>f</span></span><br><span><span>Presses: 6</span></span><br><span><span>f</span></span><br><span><span>Presses: 7</span></span><br><span><span>f</span></span><br><span><span>Presses: 8</span></span><br><span><span>f</span></span><br><span><span>Presses: 9</span></span><br><span><span>f</span></span><br><span><span>Presses: 10</span></span><br><span><span>f</span></span><br><span><span>Presses: 11</span></span><br><span><span>f</span></span><br><span><span>Presses: 12</span></span><br><span><span>f</span></span><br><span><span>Presses: 13</span></span><br><span><span>f</span></span><br><span><span>Presses: 14</span></span><br><span><span>f</span></span><br><span><span>Presses: 15</span></span><br><span><span>f</span></span><br><span><span>Presses: 16</span></span><br><span><span>f</span></span><br><span><span>Presses: 17</span></span><br><span><span>ff</span></span><br><span><span>f</span></span><br><span><span>ff</span></span><br><span><span>ff</span></span><br><span><span>f</span></span><br><span><span>Presses: 19</span></span><br><span><span>f</span></span><br><span><span>Presses: 20</span></span><br><span><span>f</span></span><br><span><span>Presses: 21</span></span><br><span><span>f</span></span><br><span><span>Presses: 22</span></span><br><span><span>f</span></span><br><span><span>Presses: 23</span></span><br><span><span>f</span></span><br><span><span>Presses: 24</span></span><br><span><span>f</span></span><br><span><span>Presses: 25</span></span><br><span><span>f</span></span><br><span><span>Presses: 26</span></span><br><span><span>f</span></span><br><span><span>Presses: 27</span></span><br><span><span>f</span></span><br><span><span>Presses: 28</span></span><br><span><span>f</span></span><br><span><span>Presses: 29</span></span><br><span><span>f</span></span><br><span><span>Presses: 30</span></span><br><span><span>f</span></span><br><span><span>Presses: 31</span></span><br><span><span>f</span></span><br><span><span>Presses: 32</span></span><br><span><span>f</span></span><br><span><span>Presses: 33</span></span><br><span><span>f</span></span><br><span><span>Presses: 34</span></span><br><span><span>fYou have managed to press 'f' 34 times.<br><br></span></span></pre><p><span><span>Example run 2:</span></span></p><p><span><span><em>cargo run f 10</em></span></span></p><pre><span><span><span><span>Do you want to start or exit?<br>$ <strong>exit</strong></span></span></span></span><strong><em><span><span><span><br></span></span></span></em></strong><span><span></span></span><span><span></span></span><span lang="EN-US"></span></pre>
</body>
</html>